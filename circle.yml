# Use, modification, and distribution are
# subject to the Boost Software License, Version 1.0. (See accompanying
# file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
#
# Copyright Rene Rivera 2015-2016.

machine:
  environment:
    SCRIPT_N: ci_boost_status ci_boost_library_check ci_boost_release ci_boost_release
    EOL_N: NA NA LF CRLF
  pre:
    - wget "https://raw.githubusercontent.com/boostorg/release-tools/develop/ci_boost_common.py" -P ${HOME}
    - wget "https://raw.githubusercontent.com/boostorg/release-tools/develop/ci_boost_library_check.py" -P ${HOME}
    - wget "https://raw.githubusercontent.com/boostorg/release-tools/develop/ci_boost_release.py" -P ${HOME}
    - wget "https://raw.githubusercontent.com/boostorg/release-tools/develop/ci_boost_status.py" -P ${HOME}
  post:
    - SCRIPT_N=(${SCRIPT_N}) ; SCRIPT=${SCRIPT_N[$CIRCLE_NODE_INDEX]} ; python "${HOME}/${SCRIPT}.py" machine_post
checkout:
  post:
    - SCRIPT_N=(${SCRIPT_N}) ; SCRIPT=${SCRIPT_N[$CIRCLE_NODE_INDEX]} ; python "${HOME}/${SCRIPT}.py" checkout_post
dependencies:
  pre:
    - SCRIPT_N=(${SCRIPT_N}) ; SCRIPT=${SCRIPT_N[$CIRCLE_NODE_INDEX]} ; python "${HOME}/${SCRIPT}.py" dependencies_pre
  override:
    - SCRIPT_N=(${SCRIPT_N}) ; SCRIPT=${SCRIPT_N[$CIRCLE_NODE_INDEX]} ; python "${HOME}/${SCRIPT}.py" dependencies_override
  post:
    - SCRIPT_N=(${SCRIPT_N}) ; SCRIPT=${SCRIPT_N[$CIRCLE_NODE_INDEX]} ; python "${HOME}/${SCRIPT}.py" dependencies_post
database:
  pre:
    - SCRIPT_N=(${SCRIPT_N}) ; SCRIPT=${SCRIPT_N[$CIRCLE_NODE_INDEX]} ; python "${HOME}/${SCRIPT}.py" database_pre
  override:
    - SCRIPT_N=(${SCRIPT_N}) ; SCRIPT=${SCRIPT_N[$CIRCLE_NODE_INDEX]} ; python "${HOME}/${SCRIPT}.py" database_override
  post:
    - SCRIPT_N=(${SCRIPT_N}) ; SCRIPT=${SCRIPT_N[$CIRCLE_NODE_INDEX]} ; python "${HOME}/${SCRIPT}.py" database_post
test:
  pre:
    - SCRIPT_N=(${SCRIPT_N}) ; SCRIPT=${SCRIPT_N[$CIRCLE_NODE_INDEX]} ; python "${HOME}/${SCRIPT}.py" test_pre
  override:
    - SCRIPT_N=(${SCRIPT_N}) ; SCRIPT=${SCRIPT_N[$CIRCLE_NODE_INDEX]} ; python "${HOME}/${SCRIPT}.py" test_override
  post:
    - SCRIPT_N=(${SCRIPT_N}) ; SCRIPT=${SCRIPT_N[$CIRCLE_NODE_INDEX]} ; python "${HOME}/${SCRIPT}.py" test_post
