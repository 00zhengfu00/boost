# Use, modification, and distribution are
# subject to the Boost Software License, Version 1.0. (See accompanying
# file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
#
# Copyright Rene Rivera 2015-2016.

machine:
  environment:
    SCRIPT_N[0]: ci_boost_status
    SCRIPT_N[1]: ci_boost_library_check
    SCRIPT_N[2]: ci_boost_release
    SCRIPT_N[3]: ci_boost_release
    EOL_N[0]: NA
    EOL_N[1]: NA
    EOL_N[2]: LF
    EOL_N[3]: CRLF
  pre:
    - wget "https://raw.githubusercontent.com/boostorg/release-tools/develop/ci_boost_common.py" -P ${HOME}
    - wget "https://raw.githubusercontent.com/boostorg/release-tools/develop/ci_boost_library_check.py" -P ${HOME}
    - wget "https://raw.githubusercontent.com/boostorg/release-tools/develop/ci_boost_release.py" -P ${HOME}
    - wget "https://raw.githubusercontent.com/boostorg/release-tools/develop/ci_boost_status.py" -P ${HOME}
  post:
    - python "${HOME}/${SCRIPT}.py" machine_post:
        environment:
          SCRIPT: ${SCRIPT_N[$CIRCLE_NODE_INDEX]}
checkout:
  post:
    - python "${HOME}/${SCRIPT}.py" checkout_post:
        environment:
          SCRIPT: ${SCRIPT_N[$CIRCLE_NODE_INDEX]}
dependencies:
  pre:
    - python "${HOME}/${SCRIPT}.py" dependencies_pre:
        environment:
          SCRIPT: ${SCRIPT_N[$CIRCLE_NODE_INDEX]}
  override:
    - python "${HOME}/${SCRIPT}.py" dependencies_override:
        environment:
          SCRIPT: ${SCRIPT_N[$CIRCLE_NODE_INDEX]}
  post:
    - python "${HOME}/${SCRIPT}.py" dependencies_post:
        environment:
          SCRIPT: ${SCRIPT_N[$CIRCLE_NODE_INDEX]}
database:
  pre:
    - python "${HOME}/${SCRIPT}.py" database_pre:
        environment:
          SCRIPT: ${SCRIPT_N[$CIRCLE_NODE_INDEX]}
  override:
    - python "${HOME}/${SCRIPT}.py" database_override:
        environment:
          SCRIPT: ${SCRIPT_N[$CIRCLE_NODE_INDEX]}
  post:
    - python "${HOME}/${SCRIPT}.py" database_post:
        environment:
          SCRIPT: ${SCRIPT_N[$CIRCLE_NODE_INDEX]}
test:
  pre:
    - python "${HOME}/${SCRIPT}.py" test_pre:
        environment:
          SCRIPT: ${SCRIPT_N[$CIRCLE_NODE_INDEX]}
  override:
    - python "${HOME}/${SCRIPT}.py" test_override:
        environment:
          SCRIPT: ${SCRIPT_N[$CIRCLE_NODE_INDEX]}
  post:
    - python "${HOME}/${SCRIPT}.py" test_post:
        environment:
          SCRIPT: ${SCRIPT_N[$CIRCLE_NODE_INDEX]}
